function NeoSocket(e=""){"WebSocket"in window||alert("WebSocket NOT supported by your Browser!"),""==e&&(e="ws://localhost:6940/echo"),this.events=[],this.evt="",this.socket=new WebSocket(e),this.socket.onmessage=(e=>{var t;try{t=JSON.parse(e.data)}catch(s){t=e.data}if(t.NSEType in this.events)this.events[t.NSEType](t.NSEMsg);else{"nsraw"in this.events&&this.events.nsraw(t)}}),this.socket.onopen=(()=>{void 0!==this.events.connected&&this.events.connected()}),this.socket.onclose=(()=>{void 0!==this.events.disconnected&&this.events.disconnected()}),this.on=((e,t)=>(this.events[e]=t,this)),this.event=(e=>(this.evt=e,this)),this.send=(e=>{if(1==this.socket.readyState){this.evt=""==this.evt?"default":this.evt;e=JSON.stringify({NSEType:this.evt,NSEMsg:e});this.socket.send(e),this.evt=""}else console.error("connection is not established!")}),this.dismiss=(()=>{this.socket.close()})}